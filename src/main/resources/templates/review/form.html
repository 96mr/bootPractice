<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layout2}">
<div layout:fragment="content">
	<div class="p-2">
		<h3 class="text-center p-4">리뷰 작성</h3>
		<form id="review-form" name="review" th:method="POST" th:action="@{/review}" th:object="${review}">
			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
			<input type="hidden" name="orderId" th:value="${orderId}">
			<div class="m-2 p-2 h5">받으신 제품은 어떠셨나요?</div>
			<fieldset class="rating m-2 p-2">
				<input type="radio" id="rating1" name="rating" th:value="5"><label for="rating1">⭐</label>
				<input type="radio" id="rating2" name="rating" th:value="4"><label for="rating2">⭐</label>
				<input type="radio" id="rating3" name="rating" th:value="3"><label for="rating3">⭐</label>
				<input type="radio" id="rating4" name="rating" th:value="2"><label for="rating4">⭐</label>
				<input type="radio" id="rating5" name="rating" th:value="1"><label for="rating5">⭐</label>
			</fieldset>
			<div class="m-2 p-2">
				<textarea cols="50" rows="10" placeholder="내용을 입력하세요." class="p-4" maxlength="500" name='content'>마음에 들어요</textarea>
			</div>
			<button type='submit' class='btn btn-outline-dark w-50 m-2'>작성</button>
		</form>
	</div>
	<script th:inline="javascript">
		$(document).ready(function(){
			var msg = [[${errorMsg}]];
			if(msg) {
				alert(msg);
			}
		});
		
		$("button[name='review-btn']").on("click", function(){
			$(this).siblings("input[name='orderDetail']").val();
		});
	</script>
</div>
</html>